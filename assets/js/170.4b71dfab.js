(window.webpackJsonp=window.webpackJsonp||[]).push([[170],{609:function(a,s,t){"use strict";t.r(s);var e=t(1),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"rn-é…ç½®çƒ­æ›´æ–°-ä½¿ç”¨æ–‡æ¡£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rn-é…ç½®çƒ­æ›´æ–°-ä½¿ç”¨æ–‡æ¡£"}},[a._v("#")]),a._v(" RN é…ç½®çƒ­æ›´æ–°+ä½¿ç”¨æ–‡æ¡£")]),a._v(" "),t("h2",{attrs:{id:"ä¸€ã€æ­å»ºæœ¬åœ°code-pushæœåŠ¡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€æ­å»ºæœ¬åœ°code-pushæœåŠ¡"}},[a._v("#")]),a._v(" ä¸€ã€æ­å»ºæœ¬åœ°"),t("code",[a._v("Code Push")]),a._v("æœåŠ¡")]),a._v(" "),t("p",[a._v("é…ç½®æœ¬åœ°æœåŠ¡ç«¯å’Œæ³¨å†Œ app ç­‰ï¼Œå‚è€ƒ")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://www.wddsss.com/main/displayArticle/224",target:"_blank",rel:"noopener noreferrer"}},[a._v("æœ€æ–° React Native æ­å»ºæœ¬åœ° Code Push æœåŠ¡(éå¸¸å…¨ï¼)"),t("OutboundLink")],1)]),a._v(" "),t("h3",{attrs:{id:"_1-é¦–å…ˆå…¨å±€å®‰è£…å¾®è½¯æä¾›çš„-code-push-cli-å·¥å…·"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-é¦–å…ˆå…¨å±€å®‰è£…å¾®è½¯æä¾›çš„-code-push-cli-å·¥å…·"}},[a._v("#")]),a._v(" 1. é¦–å…ˆå…¨å±€å®‰è£…å¾®è½¯æä¾›çš„ code-push-cli å·¥å…·")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" code-push-cli@latest -g\n")])])]),t("h4",{attrs:{id:"å¸¸ç”¨code-pushå‘½ä»¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸ç”¨code-pushå‘½ä»¤"}},[a._v("#")]),a._v(" å¸¸ç”¨"),t("code",[a._v("code-push")]),a._v("å‘½ä»¤")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("æ³¨å†Œè´¦å·: code-push register")])]),a._v(" "),t("li",[t("p",[a._v("ç™»é™†: code-push login")])]),a._v(" "),t("li",[t("p",[a._v("æ³¨é”€: code-push logout")])]),a._v(" "),t("li",[t("p",[a._v("æ·»åŠ é¡¹ç›®: code-push app add app åç§°")])]),a._v(" "),t("li",[t("p",[a._v("åˆ é™¤é¡¹ç›®: code-push app remove app åç§°")])]),a._v(" "),t("li",[t("p",[a._v("åˆ—å‡ºè´¦å·ä¸‹çš„æ‰€æœ‰é¡¹ç›®: code-push app list")])]),a._v(" "),t("li",[t("p",[a._v("æ˜¾ç¤ºç™»é™†çš„ token: code-push access-key ls")])]),a._v(" "),t("li",[t("p",[a._v("éƒ¨ç½²ä¸€ä¸ªç¯å¢ƒ: code-push deployment add appName deploymentName")])]),a._v(" "),t("li",[t("p",[a._v("åˆ é™¤éƒ¨ç½²: code-push deployment rm appName")])]),a._v(" "),t("li",[t("p",[a._v("åˆ—å‡ºåº”ç”¨çš„éƒ¨ç½²: code-push deployment ls appName")])]),a._v(" "),t("li",[t("p",[a._v("æŸ¥è¯¢éƒ¨ç½²ç¯å¢ƒçš„ key: code-push deployment ls appName -k")])])]),a._v(" "),t("p",[a._v("æˆ‘ä»¬ä¼šåœ¨åé¢ä½¿ç”¨æ­¤å·¥å…·åˆ›å»ºï¼Œå‘å¸ƒï¼Œæ›´æ–° App")]),a._v(" "),t("h3",{attrs:{id:"_2-ç™»å½•code-pushæœåŠ¡å™¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç™»å½•code-pushæœåŠ¡å™¨"}},[a._v("#")]),a._v(" 2. ç™»å½•"),t("code",[a._v("Code Push")]),a._v("æœåŠ¡å™¨")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# code-push login http://localhost:3000")]),a._v("\ncode-push login http://172.16.6.190:3000\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("è´¦å·ï¼š\nadmin\nå¯†ç ï¼š\n123456\n")])])]),t("blockquote",[t("p",[a._v("å¦‚å·²ç»ç™»é™†, éœ€è¦æ³¨é”€, æ‰§è¡Œä¸‹é¢å‘½ä»¤")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("logout")]),a._v("\n")])])]),t("h3",{attrs:{id:"_3-åˆ›å»ºåº”ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆ›å»ºåº”ç”¨"}},[a._v("#")]),a._v(" 3. åˆ›å»ºåº”ç”¨")]),a._v(" "),t("h4",{attrs:{id:"android-åº”ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#android-åº”ç”¨"}},[a._v("#")]),a._v(" "),t("code",[a._v("Android")]),a._v(" åº”ç”¨")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push app "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" CodePushAndroid android react-native\n")])])]),t("h4",{attrs:{id:"ios-åº”ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ios-åº”ç”¨"}},[a._v("#")]),a._v(" "),t("code",[a._v("iOS")]),a._v(" åº”ç”¨")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push app "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" CodePushIos iOS react-native\n")])])]),t("p",[a._v("ç„¶åè¾“å…¥åˆ°å‘½ä»¤è¡Œç»ˆç«¯ä¸­ï¼Œæ‰§è¡Œå®Œæ¯•ä¼šç”Ÿæˆä¸¤ä¸ª "),t("code",[a._v("key")]),a._v(", å‘ç»™åŸç”Ÿå¼€å‘äººå‘˜")]),a._v(" "),t("p",[a._v("å°±åƒè¿™æ · ğŸ‘‡")]),a._v(" "),t("div",{staticClass:"language-command extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('Successfully added the "CodePushAndroid" app, along with the following default deployments:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Name       â”‚ Deployment Key                        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Production â”‚ kl6jlkEF5tIH34QVuuxkPrVNQKOl4ksvOXqog â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚ Staging    â”‚ YTMOeRcENaByW4jIvl8CVFnTJAYm4ksvOXqog â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n')])])]),t("blockquote",[t("p",[a._v("å¦‚æœå·²ç»å­˜åœ¨åº”ç”¨, éœ€è¦åˆ é™¤åé‡æ–°åˆ›å»º, æˆ–è€…ç›´æ¥ä½¿ç”¨åŸæ¥çš„ "),t("code",[a._v("key")]),a._v(" (åŸç”Ÿé‚£è¾¹å°±ä¸ç”¨æ›´æ”¹), å…·ä½“çš„æŸ¥çœ‹ä¸‹é¢çš„"),t("strong",[a._v("è·å–åº”ç”¨çš„ "),t("code",[a._v("Key")])])])]),a._v(" "),t("h3",{attrs:{id:"_4-æ›´æ–°åº”ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ›´æ–°åº”ç”¨"}},[a._v("#")]),a._v(" 4. æ›´æ–°åº”ç”¨")]),a._v(" "),t("p",[t("code",[a._v("react-native")]),a._v(" é¡¹ç›®ä¸‹æ‰§è¡Œï¼Œ"),t("code",[a._v("test")]),a._v(" ç”¨æ¥åŒ¹é…æ˜¯å¦æ£€æŸ¥å®‰è£…åº”ç”¨")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push release-react CodePushAndroid android --d Production --t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.1")]),a._v(".0 --des "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("ç”Ÿäº§ç¯å¢ƒæ›´æ–°1 --m "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push release-react CodePushAndroid android --d Staging --t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.1")]),a._v(".0 --des "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("æµ‹è¯•ç¯å¢ƒæ›´æ–°1 --m "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push release-react CodePushIos ios --d Production --t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.1")]),a._v(".0 --des "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("ç”Ÿäº§ç¯å¢ƒæ›´æ–°1 --m "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push release-react CodePushIos ios --d Staging --t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.1")]),a._v(".0 --des "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("æµ‹è¯•ç¯å¢ƒæ›´æ–°1 --m "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])]),t("p",[a._v("å‚æ•°è¯´æ˜ï¼š")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("d")]),a._v(": å‘å¸ƒçš„ç¯å¢ƒï¼Œ"),t("code",[a._v("Staging")]),a._v(" è¡¨ç¤ºå¼€å‘äººå‘˜è‡ªå·±è°ƒè¯•ä½¿ç”¨çš„ç¯å¢ƒï¼Œ"),t("code",[a._v("Production")]),a._v(" è¡¨ç¤ºå‘å¸ƒç»™æµ‹è¯•äººå‘˜ä½¿ç”¨çš„ç¯å¢ƒ")]),a._v(" "),t("li",[t("code",[a._v("t")]),a._v(": ç‰ˆæœ¬å·ï¼Œåªæ”¯æŒ 3 ä½æ•°ï¼Œè·ŸåŸç”Ÿåº”ç”¨çº¦å®šå¥½ä¸€è‡´")]),a._v(" "),t("li",[t("code",[a._v("des")]),a._v(": ç‰ˆæœ¬æè¿°ï¼šå…¶ä¸­çš„ "),t("code",[a._v("test")]),a._v(" è¡¨ç¤ºå‘ç»™è®¾å®šäº†ç‰ˆæœ¬è¡¨ç¤ºä¸º "),t("code",[a._v("test")]),a._v(" çš„å®‰è£…åŒ…, å¦‚æœæ²¡æœ‰å†™, è¡¨ç¤ºé€šçŸ¥æ‰€æœ‰å®‰è£…åŒ…")])]),a._v(" "),t("p",[a._v("æ›´æ–°æˆåŠŸå, æ˜¯è¿™æ ·çš„ ğŸ‘‡")]),a._v(" "),t("div",{staticClass:"language-command extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('node node_modules\\react-native\\local-cli\\cli.js bundle --assets-dest C:\\Users\\12047\\AppData\\Local\\Temp\\CodePush\\CodePush --bundle-output C:\\Users\\12047\\AppData\\Local\\Temp\\CodePush\\CodePush\\index.android.bundle --dev false --entry-file index.js --platform android\nWelcome to React Native!\n                Learn once, write anywhere\n\ninfo Writing bundle output to:, C:\\Users\\12047\\AppData\\Local\\Temp\\CodePush\\CodePush\\index.android.bundle\ninfo Done writing bundle output\ninfo Copying 192 asset files\ninfo Done copying assets\n\nReleasing update contents to CodePush:\n\n\nSuccessfully released an update containing the "C:\\Users\\12047\\AppData\\Local\\Temp\\CodePush\\CodePush" directory to the "Staging" deployment of the "CodePushAndroid" app.\n\n')])])]),t("h4",{attrs:{id:"é™é»˜æ›´æ–°åº”ç”¨-ä¸å¼¹çª—ï¼Œåå°ä¸‹è½½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é™é»˜æ›´æ–°åº”ç”¨-ä¸å¼¹çª—ï¼Œåå°ä¸‹è½½"}},[a._v("#")]),a._v(" é™é»˜æ›´æ–°åº”ç”¨(ä¸å¼¹çª—ï¼Œåå°ä¸‹è½½)")]),a._v(" "),t("p",[a._v("æ¯”å¦‚åœ¨"),t("code",[a._v("iOS")]),a._v("å¹³å°ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š")]),a._v(" "),t("p",[a._v("æµ‹è¯•ç¯å¢ƒ")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("\ncode-push release-react CodePushIos ios --d Staging --t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.2")]),a._v(".1 --des "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("SilentUpdate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("æµ‹è¯•ç¯å¢ƒé™é»˜æ›´æ–° --m "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])]),t("p",[a._v("ç”Ÿäº§ç¯å¢ƒ")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push release-react CodePushIos ios --d Production --t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.2")]),a._v(".1 --des "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("SilentUpdate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("æµ‹è¯•ç¯å¢ƒé™é»˜æ›´æ–° --m "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])]),t("p",[a._v("å…¶ä¸­, åœ¨"),t("code",[a._v("des")]),a._v("ä¸­æ·»åŠ "),t("code",[a._v("{SilentUpdate}")]),a._v("è¡¨ç¤ºèµ°é™é»˜æ›´æ–°ï¼Œè¿™è¾¹æ˜¯å®Œå…¨åŒ¹é…ï¼Œå¦‚æœåŒ¹é…çš„è¯å°±åœ¨åå°è‡ªåŠ¨ä¸‹è½½æ›´æ–°ï¼Œä¸ä¼šå†å¼¹æ¡†æç¤º")]),a._v(" "),t("h3",{attrs:{id:"_5-è·å–åº”ç”¨çš„-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-è·å–åº”ç”¨çš„-key"}},[a._v("#")]),a._v(" 5. è·å–åº”ç”¨çš„ "),t("code",[a._v("Key")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push deployment "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" CodePushAndroid -k\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push deployment "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ls")]),a._v(" CodePushIos -k\n")])])]),t("h3",{attrs:{id:"_6-æ¸…é™¤æ¨é€çš„æ›´æ–°-ç»ˆæ­¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-æ¸…é™¤æ¨é€çš„æ›´æ–°-ç»ˆæ­¢"}},[a._v("#")]),a._v(" 6. æ¸…é™¤æ¨é€çš„æ›´æ–°(ç»ˆæ­¢)")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push deployment "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("clear")]),a._v(" CodePushAndroid staging\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push deployment "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("clear")]),a._v(" CodePushIos staging\n")])])]),t("h2",{attrs:{id:"äºŒã€é…ç½®å®‰å“ç¯å¢ƒï¼ˆè‡ªåŠ¨-link-å¯èƒ½ä¼šå¯¼è‡´å¤±è´¥ï¼‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€é…ç½®å®‰å“ç¯å¢ƒï¼ˆè‡ªåŠ¨-link-å¯èƒ½ä¼šå¯¼è‡´å¤±è´¥ï¼‰"}},[a._v("#")]),a._v(" äºŒã€é…ç½®å®‰å“ç¯å¢ƒï¼ˆè‡ªåŠ¨ "),t("code",[a._v("link")]),a._v(" å¯èƒ½ä¼šå¯¼è‡´å¤±è´¥ï¼‰")]),a._v(" "),t("h3",{attrs:{id:"_1-android-settings-gradle-file-æ·»åŠ "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-android-settings-gradle-file-æ·»åŠ "}},[a._v("#")]),a._v(" 1. "),t("code",[a._v("android/settings.gradle file")]),a._v(" æ·»åŠ ")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("include ':app', ':react-native-code-push'\nproject(':react-native-code-push').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-code-push/android/app')\n")])])]),t("h3",{attrs:{id:"_2-android-app-build-gradle-æ·»åŠ "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-android-app-build-gradle-æ·»åŠ "}},[a._v("#")]),a._v(" 2. "),t("code",[a._v("android/app/build.gradle")]),a._v(" æ·»åŠ ")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('apply from: "../../node_modules/react-native-code-push/android/codepush.gradle"\n')])])]),t("h3",{attrs:{id:"_3-mainapplication-java-æ·»åŠ "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-mainapplication-java-æ·»åŠ "}},[a._v("#")]),a._v(" 3. "),t("code",[a._v("MainApplication.java")]),a._v(" æ·»åŠ ")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("import")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("microsoft"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("codepush"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("react")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("CodePush")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MainApplication")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Application")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("implements")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ReactApplication")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("private")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("final")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ReactNativeHost")]),a._v(" mReactNativeHost "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ReactNativeHost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 2. Override the getJSBundleFile method in order to let")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// the CodePush runtime determine where to get the JS")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// bundle location from on each app start")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[a._v("@Override")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("protected")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getJSBundleFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n          "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("CodePush")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getJSBundleFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-strings-xml-æ·»åŠ "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-strings-xml-æ·»åŠ "}},[a._v("#")]),a._v(" 4. "),t("code",[a._v("strings.xml")]),a._v(" æ·»åŠ ")]),a._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("resources")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("string")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("app_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("gms"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("string")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("moduleConfig")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("true"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("CodePushDeploymentKey"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("you key"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("string")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("moduleConfig")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("true"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("translatable")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("false"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("name")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("CodePushServerUrl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("serverUrl"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("string")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("resources")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])])]),t("h3",{attrs:{id:"_5-bulid-gradle"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-bulid-gradle"}},[a._v("#")]),a._v(" 5. "),t("code",[a._v("bulid.gradle")])]),a._v(" "),t("p",[a._v("é…ç½® "),t("code",[a._v("defaultConfig")]),a._v(" ä¸­çš„ "),t("code",[a._v("versionName")]),a._v(" ä¸º 3 ä½æ•°ï¼Œä¾‹å¦‚ "),t("code",[a._v("versionName")]),a._v(' "1.0.0"')]),a._v(" "),t("h3",{attrs:{id:"_6-å®‰è£…-react-native-code-push-6-1-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-å®‰è£…-react-native-code-push-6-1-1"}},[a._v("#")]),a._v(" 6.å®‰è£… "),t("code",[a._v("react-native-code-push 6.1.1")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" react-native-code-push@6.1.1 -S\n")])])]),t("h3",{attrs:{id:"_7-æ›´æ–°å‘½ä»¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-æ›´æ–°å‘½ä»¤"}},[a._v("#")]),a._v(" 7.æ›´æ–°å‘½ä»¤")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push release-react CodePushDemoAndroid android --d Staging --t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.0")]),a._v(".0 --des æµ‹è¯•ç¯å¢ƒæ›´æ–° --m "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])]),t("h2",{attrs:{id:"é…ç½®-ios-ç¯å¢ƒï¼ˆlinkï¼‰"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®-ios-ç¯å¢ƒï¼ˆlinkï¼‰"}},[a._v("#")]),a._v(" é…ç½® ios ç¯å¢ƒï¼ˆlinkï¼‰")]),a._v(" "),t("h3",{attrs:{id:"_1-è¿è¡Œ-cd-ios-pod-install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-è¿è¡Œ-cd-ios-pod-install"}},[a._v("#")]),a._v(" 1. è¿è¡Œ cd ios && pod install")]),a._v(" "),t("p",[t("code",[a._v("pod")]),a._v(" å¦‚æœå¤±è´¥, å°±åˆ‡æ¢æºï¼Œ"),t("code",[a._v("profile")]),a._v(" æ–‡ä»¶å¤´éƒ¨æ·»åŠ ")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("source 'https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git'\n")])])]),t("h3",{attrs:{id:"_2-appdelegate-m-æ·»åŠ -åŠæ›¿æ¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-appdelegate-m-æ·»åŠ -åŠæ›¿æ¢"}},[a._v("#")]),a._v(" 2. AppDelegate.m æ·»åŠ ,åŠæ›¿æ¢")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('#import <CodePush/CodePush.h>\n...\n...\n- (NSURL *)sourceURLForBridge:(RCTBridge *)bridge\n{\n  #if DEBUG\n    return [[RCTBundleURLProvider sharedSettings] jsBundleURLForBundleRoot:@"index" fallbackResource:nil];\n  #else\n    return [CodePush bundleURL];\n  #endif\n}\n')])])]),t("h3",{attrs:{id:"_3-xcode-project-info-configurations-ç‚¹å‡»-é€‰æ³½-duplicate-â€œrelease-configaration-ï¼Œ-è¾“å…¥-stagingã€‚-è¿™è¡¨ç¤ºæ–°å»ºä¸€ç§æ‰“åŒ…æ–¹å¼-åç§°æ˜¯-stagingã€‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-xcode-project-info-configurations-ç‚¹å‡»-é€‰æ³½-duplicate-â€œrelease-configaration-ï¼Œ-è¾“å…¥-stagingã€‚-è¿™è¡¨ç¤ºæ–°å»ºä¸€ç§æ‰“åŒ…æ–¹å¼-åç§°æ˜¯-stagingã€‚"}},[a._v("#")]),a._v(" 3.xcode -> PROJECT -> Info -> Configurations -> ç‚¹å‡»+ -> é€‰æ³½ Duplicate â€œRelease Configaration ï¼Œ è¾“å…¥ Stagingã€‚ è¿™è¡¨ç¤ºæ–°å»ºä¸€ç§æ‰“åŒ…æ–¹å¼ åç§°æ˜¯ Stagingã€‚")]),a._v(" "),t("h3",{attrs:{id:"_4-xcode-target-build-settingï¼Œç‚¹å‡»-ï¼Œadd-user-defined-setting"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-xcode-target-build-settingï¼Œç‚¹å‡»-ï¼Œadd-user-defined-setting"}},[a._v("#")]),a._v(" 4.xcode -> TARGET -> Build Settingï¼Œç‚¹å‡»+ï¼ŒAdd User-Defined Setting")]),a._v(" "),t("p",[a._v("ç„¶åè¾“å…¥ CODEPUSH_KEYï¼Œç„¶ååœ¨ä¸‹é¢çš„ release ä¸­å¡«å†™ product deployment keyï¼Œ åœ¨ Staging ä¸‹å¡«å†™ staging deploymeng key, debug å¯ä»¥ä¸ç”¨å¡«å†™ã€‚")]),a._v(" "),t("p",[a._v("åŒç†ï¼Œæ–°å¢ CODEPUSH_HOSTï¼Œ å¡«å†™å„ä¸ªç¯å¢ƒçš„ code-push æœåŠ¡å™¨åœ°å€ï¼Œå¦‚ Staging æˆ‘ä»¬å¯ä»¥å¡«å†™ æœ¬æœº iP://3000;ï¼ˆæ­¤å¤„å¯èƒ½ä¸æ‰§è¡Œï¼Œè‹¥å¤±è´¥å¯ä¸æ·»åŠ ï¼‰")]),a._v(" "),t("h3",{attrs:{id:"_5-ios-é¡¹ç›®-info-plist-ä¸­æ–°å¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-ios-é¡¹ç›®-info-plist-ä¸­æ–°å¢"}},[a._v("#")]),a._v(" 5.ios/<é¡¹ç›®>/info.plist ä¸­æ–°å¢")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("    <key>CodePushDeploymentKey</key>\n    <string>$(CODEPUSH_KEY)</string>\n    <key>CodePushServerURL</key>\n    <string>$(CODEPUSH_HOST)</string>\n    // ä¸Šä¸€æ­¥çš„CODEPUSH_HOSTè‹¥æ·»åŠ ä¸æˆåŠŸï¼Œæ­¤å¤„å†™æ­»\n    // ä¿®æ”¹ä¸ºä¸‰ä½æ•°ç‰ˆæœ¬å·\n    <key>CFBundleShortVersionString</key>\n    <string>1.7.0</string>\n")])])]),t("h3",{attrs:{id:"æ›´æ–°å‘½ä»¤æ¨¡æ¿"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°å‘½ä»¤æ¨¡æ¿"}},[a._v("#")]),a._v(" æ›´æ–°å‘½ä»¤æ¨¡æ¿")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push release-react CodePushDemoAndroid android --d Staging --t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.0")]),a._v(".0 --des æµ‹è¯•ç¯å¢ƒæ›´æ–°1 --m "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("code-push release-react CodePushDemoIos ios --d Staging --t "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1.0")]),a._v(".0 --des æµ‹è¯•ç¯å¢ƒæ›´æ–°1 --m "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);